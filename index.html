<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Catálogo de Serviços - Technology Portal</title>
    <style>
        /* 1. Typography & Design System */
        @import url('https://fonts.googleapis.com/css2?family=Barlow:wght@700&family=Figtree:wght@300;400;600&display=swap');

        :root {
            --color-text: #24282A;
            --color-header-text: #231372; /* Roxo Principal */
            --color-highlight: #20E2C8; /* Verde Destaque */
            --color-accent: #6106AF; /* Roxo Secundário */
            --color-header-bg: #FFFFFF;
            --color-light-gray: #f1f3f5;
            --color-mid-gray: #adb5bd;
            --color-dark-gray: #495057;
            --font-body: 'Figtree', sans-serif;
            --font-header: 'Barlow', sans-serif;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }

        body {
            font-family: var(--font-body);
            color: var(--color-text);
            line-height: 1.6;
            background-color: #f8f9fa;
            padding-top: 100px;
            font-weight: 300;
            scroll-behavior: smooth;
        }

        h1, h2, h3, h4, h5 {
            font-family: var(--font-header);
            color: var(--color-header-text);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            font-weight: 600;
        }
        h1 { font-size: 2.2rem; margin-bottom: 0.5rem; }
        
        .container {
            width: 95%;
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px 0;
        }

        /* Fixed Header */
        header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background-color: var(--color-header-bg);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
            z-index: 1000;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 10px 0;
        }

        /* Hero */
        .hero {
            background-color: var(--color-header-bg);
            padding: 30px 0 10px 0;
            text-align: center;
            border-bottom: 4px solid var(--color-accent);
        }

        /* Service Tree */
        .service-tree {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 40px 0;
        }
        .node {
            background-color: var(--color-header-bg);
            border: 1px solid var(--color-light-gray);
            border-radius: 6px;
            padding: 10px 15px;
            text-align: center;
            margin: 10px 0;
            position: relative;
            z-index: 10;
        }
        .root-node {
            background-color: var(--color-accent);
            color: white;
            border-color: var(--color-accent);
            padding: 12px 25px;
            font-size: 1.2rem;
            margin-bottom: 30px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        .root-node h3 { color: white; font-weight: 700; }
        .root-node::after {
            content: ''; position: absolute; bottom: -30px; left: 50%; width: 2px; height: 30px;
            background-color: var(--color-header-text); transform: translateX(-50%); z-index: 1;
        }
        .category-level {
            display: flex; flex-wrap: wrap; justify-content: center; gap: 8px; width: 100%;
            position: relative; padding-bottom: 30px;
        }
        .category-level::before {
            content: ''; position: absolute; top: 0; width: 98%; height: 2px;
            background-color: var(--color-header-text); z-index: 5;
        }
        .category-group {
            flex: 1 1 110px; max-width: 125px; display: flex; flex-direction: column;
            align-items: center; position: relative;
        }
        .category-group .node:first-child {
            background-color: var(--color-light-gray); color: var(--color-header-text);
            border-color: var(--color-header-text); font-weight: 700; font-size: 0.65rem;
            margin-top: 35px; min-height: 45px; display: flex; align-items: center; justify-content: center;
        }
        .category-group .node:first-child::before {
            content: ''; position: absolute; top: -35px; left: 50%; width: 2px; height: 35px;
            background-color: var(--color-header-text); transform: translateX(-50%); z-index: 1;
        }

        /* Sub-nodes / Request Types */
        .request-type-block { padding-top: 15px; width: 100%; }
        .request-type-container {
            border: 1px solid var(--color-light-gray);
            border-radius: 6px;
            margin-bottom: 8px;
            cursor: pointer;
            transition: all 0.2s;
            background-color: white;
        }
        .request-type-container:hover {
            border-color: var(--color-accent);
            background-color: #f8f9fa;
        }
        .request-type-container.is-active {
            border-color: var(--color-accent);
            background-color: white;
            box-shadow: 0 4px 10px rgba(97, 6, 175, 0.08);
        }
        .request-type-node { padding: 8px; }
        .request-type-node h5 {
            color: var(--color-accent);
            font-size: 0.6rem; line-height: 1.1; min-height: 20px; font-weight: 500;
        }

        /* Detail Panels */
        #panel-container { margin-top: 50px; }
        #form-detail-panel, #backoffice-panel {
            min-height: 300px; padding: 40px; background-color: var(--color-header-bg);
            border: 1px solid var(--color-light-gray); border-radius: 8px;
            display: none; opacity: 0; transform: translateY(10px);
            transition: all 0.4s ease-out;
        }
        #form-detail-panel.visible, #backoffice-panel.visible {
            display: block; opacity: 1; transform: translateY(0);
        }

        .panel-nav { display: flex; gap: 10px; margin-bottom: 20px; }
        .panel-nav button {
            cursor: pointer; padding: 6px 12px; font-family: var(--font-header);
            font-size: 0.8rem; font-weight: 600; background: none; border: none;
            color: var(--color-mid-gray); border-bottom: 2px solid transparent;
        }
        .panel-nav button.active { color: var(--color-header-text); border-bottom-color: var(--color-accent); }

        /* Forms */
        #form-detail-content h2 { margin-bottom: 20px; font-size: 1.5rem; color: var(--color-header-text); }
        #form-detail-content form { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; padding-bottom: 20px; }
        .form-field-group { display: flex; flex-direction: column; gap: 5px; }
        .form-field-group label { font-size: 0.75rem; color: var(--color-dark-gray); font-weight: 600; text-transform: uppercase; }
        .form-field-group input, .form-field-group textarea, .form-field-group select {
            padding: 10px; border: 1px solid var(--color-mid-gray); border-radius: 4px; font-family: var(--font-body); font-size: 0.9rem;
        }
        .submit-area { grid-column: 1 / -1; text-align: center; margin-top: 30px; }
        .submit-area button {
            cursor: pointer; display: inline-block; padding: 12px 30px; background-color: var(--color-highlight);
            color: var(--color-header-text) !important; font-family: var(--font-header); font-weight: 700; border: none; border-radius: 4px; font-size: 1rem;
        }

        /* Feedback Message */
        #form-feedback { display: none; padding: 20px; text-align: center; background: #d4edda; color: #155724; border-radius: 6px; margin-top: 20px; font-weight: 600; }

        /* Backoffice */
        .backoffice-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        .metadata-section { padding: 15px; background: #fdfdfd; border: 1px solid #eee; border-radius: 4px; }
        .metadata-section h3 { font-size: 0.9rem; color: var(--color-accent); margin-bottom: 10px; border-bottom: 1px solid #eee; }
        .metadata-section div { font-size: 0.85rem; margin-bottom: 5px; }
        .metadata-section strong { display: inline-block; width: 130px; color: var(--color-dark-gray); }
        .labels-box span {
            display: inline-block; padding: 2px 6px; background: var(--color-light-gray);
            margin: 2px; border-radius: 3px; font-size: 0.7rem; color: var(--color-accent); font-weight: 600;
        }
        .workflow-link { color: var(--color-accent); text-decoration: underline; font-weight: 600; }

        @media (max-width: 768px) {
            .category-level { flex-direction: column; align-items: center; }
            .category-level::before { display: none; }
            .category-group { max-width: 95%; width: 100%; }
        }
    </style>
</head>
<body>

    <header>
        <svg id="Camada_2" style="height: 70px; width: auto;" data-name="Camada 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 837.7 245.66">
            <defs>
                <style>.cls-1{fill:none;}.cls-2{clip-path:url(#clippath-1);}.cls-3{fill:url(#Gradiente_sem_nome_10);}.cls-4{fill:#24282a;}.cls-5{clip-path:url(#clippath);}</style>
                <linearGradient id="Gradiente_sem_nome_10" data-name="Gradiente sem nome 10" x1="5622.93" y1="5321.6" x2="5624.11" y2="5322.12" gradientTransform="translate(-1349792.92 1307463.94) scale(240.05 -245.66)" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#1b1f59"/><stop offset="1" stop-color="#0fc"/></linearGradient>
            </defs>
            <g id="Camada_1" data-name="Camada 1">
                <g id="Grupo_149" data-name="Grupo 149">
                    <!-- Adjusted Clever Logo Paths Spells C-L-E-V-E-R with one L -->
                    <path class="cls-4" d="M452.05,129.69v18.74c0,1.99-1.61,3.6-3.6,3.6h-67.98c-1.99,0-3.6-1.61-3.6-3.6h0V42.63c0-1.99,1.61-3.6,3.6-3.6h20.9c1.99,0,3.6,1.61,3.6,3.6h0v83.46h43.47c1.99,0,3.6,1.61,3.61,3.59h0Z"/> <!-- L -->
                    <path class="cls-4" d="M370.4,140.66c.53.99.24,2.22-.67,2.87-26.46,18.91-63.23,12.79-82.14-13.66..."/> <!-- C -->
                    <path class="cls-4" d="M487.03,64.97v18.73h37.96c1.99,0,3.6,1.61,3.6,3.6v16.46..."/> <!-- E -->
                    <path class="cls-3" d="M239.71,6.67l-91.78,233.94c-1.2,3.05-4.14,5.05-7.41,5.05h-41c-3.27,0-6.21-2.01-7.41-5.05L.34,6.67..."/> <!-- Big V Symbol -->
                    <path class="cls-4" d="M691.37,64.97v18.73h37.96c1.99,0,3.6,1.61,3.6,3.6..."/> <!-- E -->
                    <path class="cls-4" d="M821.22,116.37l-2.89-5.46c17.91-12.4,22.38-36.97..."/> <!-- R -->
                </g>
            </g>
        </svg>
    </header>

    <main>
        <section class="hero">
            <div class="container">
                <h1>CATÁLOGO DE SERVIÇOS</h1>
            </div>
        </section>

        <section class="service-tree">
            <div class="node root-node">
                <h3>CATÁLOGO DE SERVIÇOS 2025</h3>
            </div>

            <div class="category-level container">
                
                <!-- 1. ADVERTISING -->
                <div class="category-group">
                    <div class="node"><h4>Advertising</h4></div>
                    <div class="request-type-block">
                        <div class="request-type-container" data-target="adv-issues" data-title="Advertising Issues" data-config='{"Cesta": "N1 Service", "Workflow": "ITS Workflow - Defaut Portal Technology v5", "WorkflowLink": "https://cleveradvertising.atlassian.net/jira/settings/issues/workflows/a2ce916a-1dce-405d-9fe1-14761df5373a"}' onclick="showPanel('form-detail-panel', this)"><div class="request-type-node"><h5>Advertising Issues</h5></div></div>
                        <div class="request-type-container" data-target="adv-creatives" data-title="Creatives" onclick="showPanel('form-detail-panel', this)"><div class="request-type-node"><h5>Creatives</h5></div></div>
                        <div class="request-type-container" data-target="adv-hook" data-title="Hook" onclick="showPanel('form-detail-panel', this)"><div class="request-type-node"><h5>Hook</h5></div></div>
                        <div class="request-type-container" data-target="adv-traffic" data-title="Traffic Analysis" onclick="showPanel('form-detail-panel', this)"><div class="request-type-node"><h5>Traffic Analysis</h5></div></div>
                    </div>
                </div>

                <!-- 2. SOFTWARES -->
                <div class="category-group">
                    <div class="node"><h4>Softwares</h4></div>
                    <div class="request-type-block">
                        <div class="request-type-container" data-target="soft-bold" data-title="Bold" onclick="showPanel('form-detail-panel', this)"><div class="request-type-node"><h5>Bold</h5></div></div>
                        <div class="request-type-container" data-target="soft-cleverads" data-title="CleverADS" onclick="showPanel('form-detail-panel', this)"><div class="request-type-node"><h5>CleverADS</h5></div></div>
                        <div class="request-type-container" data-target="soft-c2p" data-title="C2P" onclick="showPanel('form-detail-panel', this)"><div class="request-type-node"><h5>C2P</h5></div></div>
                        <div class="request-type-container" data-target="soft-comission" data-title="Comission" onclick="showPanel('form-detail-panel', this)"><div class="request-type-node"><h5>Comission</h5></div></div>
                        <div class="request-type-container" data-target="soft-approvals" data-title="Approvals" onclick="showPanel('form-detail-panel', this)"><div class="request-type-node"><h5>Approvals</h5></div></div>
                        <div class="request-type-container" data-target="soft-b2b" data-title="B2B" onclick="showPanel('form-detail-panel', this)"><div class="request-type-node"><h5>B2B</h5></div></div>
                        <div class="request-type-container" data-target="soft-issues" data-title="Issues Softwares" onclick="showPanel('form-detail-panel', this)"><div class="request-type-node"><h5>Issues Softwares</h5></div></div>
                    </div>
                </div>

                <!-- 3. HARDWARE -->
                <div class="category-group">
                    <div class="node"><h4>Hardware</h4></div>
                    <div class="request-type-block">
                        <div class="request-type-container" data-target="hard-accessories" data-title="Accessories" onclick="showPanel('form-detail-panel', this)"><div class="request-type-node"><h5>Accessories</h5></div></div>
                        <div class="request-type-container" data-target="hard-notebook" data-title="Notebook" data-config='{"Área": "INFRA", "Cesta": "Marco Sousa e Jeferson Calvalcanti", "Workflow": "ITS Workflow - Defaut Portal Technology v5", "WorkflowLink": "https://cleveradvertising.atlassian.net/jira/settings/issues/workflows/a2ce916a-1dce-405d-9fe1-14761df5373a", "Labels": "Acessories / Notebook, Equipment Maintenance"}' onclick="showPanel('form-detail-panel', this)"><div class="request-type-node"><h5>Notebook</h5></div></div>
                        <div class="request-type-container" data-target="hard-printer" data-title="Printer" onclick="showPanel('form-detail-panel', this)"><div class="request-type-node"><h5>Printer</h5></div></div>
                    </div>
                </div>

                <!-- 4. ACCESS -->
                <div class="category-group">
                    <div class="node"><h4>Access</h4></div>
                    <div class="request-type-block">
                        <div class="request-type-container" data-target="access-internal" data-title="Internal Application" onclick="showPanel('form-detail-panel', this)"><div class="request-type-node"><h5>Internal Application</h5></div></div>
                        <div class="request-type-container" data-target="access-external" data-title="External Application" onclick="showPanel('form-detail-panel', this)"><div class="request-type-node"><h5>External Application</h5></div></div>
                        <div class="request-type-container" data-target="access-email" data-title="Email" onclick="showPanel('form-detail-panel', this)"><div class="request-type-node"><h5>Email</h5></div></div>
                    </div>
                </div>

                <!-- 5. OUTSOURCING IT -->
                <div class="category-group">
                    <div class="node"><h4>Outsourcing</h4></div>
                    <div class="request-type-block">
                        <div class="request-type-container" data-target="out-admission" data-title="Admission" onclick="showPanel('form-detail-panel', this)"><div class="request-type-node"><h5>Admission</h5></div></div>
                        <div class="request-type-container" data-target="out-resignation" data-title="Resignation" onclick="showPanel('form-detail-panel', this)"><div class="request-type-node"><h5>Resignation</h5></div></div>
                        <div class="request-type-container" data-target="out-mobility" data-title="Internal Mobility" onclick="showPanel('form-detail-panel', this)"><div class="request-type-node"><h5>Internal Mobility</h5></div></div>
                    </div>
                </div>

                <!-- 6. DATA (New Options) -->
                <div class="category-group">
                    <div class="node"><h4>Data</h4></div>
                    <div class="request-type-block">
                        <div class="request-type-container" data-target="data-visualization" data-title="Data Visualization" onclick="showPanel('form-detail-panel', this)"><div class="request-type-node"><h5>Data Visualization</h5></div></div>
                        <div class="request-type-container" data-target="data-engineering" data-title="Data Engineering" onclick="showPanel('form-detail-panel', this)"><div class="request-type-node"><h5>Data Engineering</h5></div></div>
                        <div class="request-type-container" data-target="data-automation" data-title="Automation & Intelligence" onclick="showPanel('form-detail-panel', this)"><div class="request-type-node"><h5>Automation & Intelligence</h5></div></div>
                        <div class="request-type-container" data-target="data-costs" data-title="Costs & Commissions" onclick="showPanel('form-detail-panel', this)"><div class="request-type-node"><h5>Costs & Commissions</h5></div></div>
                    </div>
                </div>

                <!-- 7. NETWORK -->
                <div class="category-group">
                    <div class="node"><h4>Network</h4></div>
                    <div class="request-type-block">
                        <div class="request-type-container" data-target="net-wifi" data-title="Network/Wifi" onclick="showPanel('form-detail-panel', this)"><div class="request-type-node"><h5>Network/Wifi</h5></div></div>
                        <div class="request-type-container" data-target="net-antivirus" data-title="Antivirus" onclick="showPanel('form-detail-panel', this)"><div class="request-type-node"><h5>Antivirus</h5></div></div>
                    </div>
                </div>

                <!-- 8. SECURITY -->
                <div class="category-group">
                    <div class="node"><h4>Security</h4></div>
                    <div class="request-type-block">
                        <div class="request-type-container" data-target="sec-phishing" data-title="Phishing Report" onclick="showPanel('form-detail-panel', this)"><div class="request-type-node"><h5>Phishing Report</h5></div></div>
                        <div class="request-type-container" data-target="sec-newsol" data-title="New solution" onclick="showPanel('form-detail-panel', this)"><div class="request-type-node"><h5>New solution</h5></div></div>
                        <div class="request-type-container" data-target="sec-info" data-title="Info Security" onclick="showPanel('form-detail-panel', this)"><div class="request-type-node"><h5>Info Security</h5></div></div>
                    </div>
                </div>

                <!-- 9. WEBSITE/DOMAIN -->
                <div class="category-group">
                    <div class="node"><h4>Website</h4></div>
                    <div class="request-type-block">
                        <div class="request-type-container" data-target="web-site" data-title="Site" onclick="showPanel('form-detail-panel', this)"><div class="request-type-node"><h5>Site</h5></div></div>
                        <div class="request-type-container" data-target="web-domain" data-title="Domain" onclick="showPanel('form-detail-panel', this)"><div class="request-type-node"><h5>Domain</h5></div></div>
                    </div>
                </div>

                <!-- 10. IMPROVEMENTS -->
                <div class="category-group">
                    <div class="node"><h4>Improvements</h4></div>
                    <div class="request-type-block">
                        <div class="request-type-container" data-target="imp-suggest" data-title="Suggest Improvement" onclick="showPanel('form-detail-panel', this)"><div class="request-type-node"><h5>Suggest Improvement</h5></div></div>
                        <div class="request-type-container" data-target="imp-process" data-title="Process /FAQ" onclick="showPanel('form-detail-panel', this)"><div class="request-type-node"><h5>Process /FAQ</h5></div></div>
                    </div>
                </div>

            </div>
        </section>

        <section id="panel-container" class="container">
            <div id="form-detail-panel" class="visible">
                <div id="form-detail-content">
                    <h2>Selecione uma categoria acima</h2>
                    <p style="text-align: center; color: var(--color-mid-gray);">Explore a árvore para abrir o formulário.</p>
                </div>
                <div id="form-feedback">Solicitação enviada com sucesso para o JSM!</div>
            </div>
            <div id="backoffice-panel" class="container">
                <div id="backoffice-content"></div>
            </div>
        </section>
    </main>

    <script>
        let lastClickedContainer = null;

        const formFieldTemplates = {
            'adv-issues': `<div class="form-field-group"><label>Summary*</label><input type="text" required></div><div class="form-field-group"><label>Description</label><textarea rows="4"></textarea></div><div class="form-field-group"><label>Priority</label><select><option>Low</option><option>Medium</option><option>High</option></select></div><div class="form-field-group"><label>Attachment</label><input type="file"></div>`,
            'adv-traffic': `<div class="form-field-group"><label>Summary*</label><input type="text" required></div><div class="form-field-group"><label>Description</label><textarea rows="4"></textarea></div><div class="form-field-group"><label>Platform</label><input type="text"></div><div class="form-field-group"><label>ScriptID</label><input type="text"></div><div class="form-field-group"><label>Implementation Method</label><input type="text"></div><div class="form-field-group"><label>Meeting Required?</label><select><option>Não</option><option>Sim</option></select></div><div class="form-field-group"><label>Priority</label><select><option>Low</option><option>Medium</option><option>High</option></select></div><div class="form-field-group"><label>Attachment</label><input type="file"></div>`,
            
            // DATA Group
            'data-visualization': `<div class="form-field-group"><label>Summary*</label><input type="text" required></div><div class="form-field-group"><label>Service Type*</label><select required><option value="">Select...</option><option>New Dashboard</option><option>Data Fix</option><option>Improvement</option></select></div><div class="form-field-group"><label>Description*</label><textarea rows="4" required placeholder="Normal text"></textarea></div><div class="form-field-group"><label>Attachment</label><input type="file"></div><div class="form-field-group"><label>Priority</label><select><option>Low</option><option>Medium</option><option>High</option></select></div>`,
            'data-engineering': `<div class="form-field-group"><label>Summary*</label><input type="text" required></div><div class="form-field-group"><label>Service Type Data*</label><select required><option value="">Select...</option><option>Data Pipeline</option><option>Warehouse Fix</option><option>Integration</option></select></div><div class="form-field-group"><label>Description*</label><textarea rows="4" required placeholder="Normal text"></textarea></div><div class="form-field-group"><label>Attachment</label><input type="file"></div><div class="form-field-group"><label>Priority</label><select><option>Low</option><option>Medium</option><option>High</option></select></div>`,
            'data-automation': `<div class="form-field-group"><label>Summary*</label><input type="text" required></div><div class="form-field-group"><label>Service Type RPA*</label><select required><option value="">Select...</option><option>New Automation</option><option>Bot Fix</option><option>Process Optimization</option></select></div><div class="form-field-group"><label>Description*</label><textarea rows="4" required placeholder="Normal text"></textarea></div><div class="form-field-group"><label>Attachment</label><input type="file"></div><div class="form-field-group"><label>Priority</label><select><option>Low</option><option>Medium</option><option>High</option></select></div>`,
            'data-costs': `<div class="form-field-group"><label>Summary*</label><input type="text" required></div><div class="form-field-group"><label>Service Type Costs & Commissions*</label><select required><option value="">Select...</option><option>Commission Calculation Fix</option><option>Cost Discrepancy</option><option>New Report</option></select></div><div class="form-field-group"><label>Description*</label><textarea rows="4" required placeholder="Normal text"></textarea></div><div class="form-field-group"><label>Attachment</label><input type="file"></div><div class="form-field-group"><label>Priority</label><select><option>Low</option><option>Medium</option><option>High</option></select></div>`,

            // OUTSOURCING
            'out-admission': `
                <div class="form-field-group"><label>Summary*</label><input type="text" required></div>
                <div class="form-field-group"><label>Priority</label><select><option value="Low">Low</option><option value="Medium">Medium</option><option value="High">High</option></select></div>
                <div class="form-field-group"><label>Society/Company*</label><input type="text" required></div>
                <div class="form-field-group"><label>Full Name*</label><input type="text" required></div>
                <div class="form-field-group"><label>Function*</label><input type="text" required></div>
                <div class="form-field-group"><label>Responsible*</label><input type="text" required></div>
                <div class="form-field-group"><label>Team*</label><input type="text" required></div>
                <div class="form-field-group"><label>Hours > 20h/week?</label><select><option>Yes</option><option>No</option></select></div>
                <div class="form-field-group"><label>Building*</label><select required><option>Main Office</option><option>Technical Room</option><option>Remote</option></select></div>
                <div class="form-field-group"><label>Start date*</label><input type="date" required></div>
                <div class="form-field-group"><label>Personal email*</label><input type="email" required></div>
            `,
            'out-resignation': `
                <div class="form-field-group"><label>Summary*</label><input type="text" required></div>
                <div class="form-field-group"><label>Full Name*</label><input type="text" required></div>
                <div class="form-field-group"><label>Function*</label><input type="text" required></div>
                <div class="form-field-group"><label>Responsible*</label><input type="text" required></div>
                <div class="form-field-group"><label>Team*</label><input type="text" required></div>
                <div class="form-field-group"><label>Building*</label><input type="text" required></div>
                <div class="form-field-group"><label>Last day at Company*</label><input type="date" required></div>
                <div class="form-field-group"><label>End of contract*</label><input type="date" required></div>
            `,
            'out-mobility': `
                <div class="form-field-group"><label>Summary*</label><input type="text" required></div>
                <div class="form-field-group"><label>Priority</label><select><option value="Low">Low</option></select></div>
                <div class="form-field-group"><label>Full Name*</label><input type="text" required></div>
                <div class="form-field-group"><label>Function*</label><input type="text" required></div>
                <div class="form-field-group"><label>New function*</label><input type="text" required></div>
                <div class="form-field-group"><label>Responsible/Team Leader*</label><input type="text" required placeholder="Enter name or email..."></div>
                <div class="form-field-group"><label>New Responsible/Team Leader*</label><input type="text" required placeholder="Enter name or email..."></div>
                <div class="form-field-group"><label>Moving date*</label><input type="date" required></div>
            `,
            'hard-notebook': `<div class="form-field-group"><label>Summary</label><input type="text" required></div><div class="form-field-group"><label>Description</label><textarea rows="4"></textarea></div><div class="form-field-group"><label>Attachment</label><input type="file"></div>`,
            'access-email': `<div class="form-field-group"><label>Summary</label><input type="text" required></div><div class="form-field-group"><label>Type Service</label><select><option>Create Email</option><option>Change Email</option><option>Create Group</option></select></div><div class="form-field-group"><label>Attachment</label><input type="file"></div>`
        };

        function showPanel(panelId, container) {
            const formPanel = document.getElementById('form-detail-panel');
            const backofficePanel = document.getElementById('backoffice-panel');
            if (container) { lastClickedContainer = container; } else { container = lastClickedContainer; if (!container) return; }
            document.querySelectorAll('.request-type-container').forEach(c => c.classList.remove('is-active'));
            container.classList.add('is-active');
            formPanel.classList.remove('visible'); backofficePanel.classList.remove('visible');
            formPanel.style.display = 'none'; backofficePanel.style.display = 'none';
            if (panelId === 'form-detail-panel') { renderForm(container); formPanel.classList.add('visible'); formPanel.style.display = 'block'; injectPanelNavigation(); } 
            else { renderBackoffice(container); backofficePanel.classList.add('visible'); backofficePanel.style.display = 'block'; injectPanelNavigation(); }
            document.getElementById('panel-container').scrollIntoView({ behavior: 'smooth', block: 'start' });
        }

        function injectPanelNavigation() {
            let nav = document.getElementById('panel-nav-buttons');
            if (!nav) {
                nav = document.createElement('div'); nav.id = 'panel-nav-buttons'; nav.classList.add('panel-nav');
                const btn1 = document.createElement('button'); btn1.innerText = 'FORMULÁRIO (USUÁRIO)'; btn1.onclick = () => showPanel('form-detail-panel');
                const btn2 = document.createElement('button'); btn2.innerText = 'CONFIGURAÇÃO (ADMIN)'; btn2.onclick = () => showPanel('backoffice-panel');
                document.getElementById('panel-container').prepend(nav); nav.appendChild(btn1); nav.appendChild(btn2);
            }
            nav.querySelectorAll('button').forEach(btn => btn.classList.remove('active'));
            if (document.getElementById('form-detail-panel').classList.contains('visible')) nav.querySelector('button:nth-child(1)').classList.add('active');
            else nav.querySelector('button:nth-child(2)').classList.add('active');
        }

        function renderForm(container) {
            const targetId = container.getAttribute('data-target');
            const contentArea = document.getElementById('form-detail-content');
            const title = container.getAttribute('data-title');
            const template = formFieldTemplates[targetId] || `<div class="form-field-group"><label>Summary*</label><input type="text" required></div><div class="form-field-group"><label>Description</label><textarea rows="4"></textarea></div>`;
            contentArea.innerHTML = `<h2>${title}</h2><form id="jsm-form" onsubmit="handleFormSubmit(event)">${template}<div class="submit-area"><button type="submit">ENVIAR SOLICITAÇÃO</button></div></form>`;
        }

        function handleFormSubmit(e) {
            e.preventDefault();
            const feedback = document.getElementById('form-feedback');
            feedback.style.display = 'block';
            setTimeout(() => { feedback.style.display = 'none'; }, 3000);
        }
        
        function renderBackoffice(container) {
            const backContent = document.getElementById('backoffice-content');
            const title = container.getAttribute('data-title');
            const configData = container.getAttribute('data-config');
            if (!configData) { backContent.innerHTML = `<h2>${title}</h2><p>Metadados administrativos em atualização.</p>`; return; }
            const config = JSON.parse(configData);
            let html = `<h2>${title} - Admin</h2><div class="backoffice-grid"><div class="metadata-section"><h3>Configurações JSM</h3>`;
            for (let key in config) { 
                if(key !== 'Labels' && key !== 'WorkflowLink') {
                    if (key === 'Workflow' || config[key].includes('ITS Workflow')) {
                        html += `<div><strong>${key}:</strong> <a href="https://cleveradvertising.atlassian.net/jira/settings/issues/workflows/a2ce916a-1dce-405d-9fe1-14761df5373a" target="_blank" class="workflow-link">${config[key]}</a></div>`;
                    } else {
                        html += `<div><strong>${key}:</strong> ${config[key]}</div>`; 
                    }
                }
            }
            html += `</div>`;
            if (config['Labels']) {
                html += `<div class="metadata-section"><h3>Categorias de Fechamento</h3><div class="labels-box">${config['Labels'].split(',').map(l => `<span>${l.trim()}</span>`).join('')}</div></div>`;
            }
            html += `</div>`; backContent.innerHTML = html;
        }

        document.addEventListener('DOMContentLoaded', () => {
            document.getElementById('form-detail-panel').style.display = 'none';
            document.getElementById('backoffice-panel').style.display = 'none';
        });
    </script>
</body>
</html>
